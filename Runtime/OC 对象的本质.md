可以通过下载 runtime 源码,和重新编译为C++代码查看
![[将Objective-C代码转换为C或C++代码]]

## NSObject的底层实现如下图
![[img_NSObject底层实现.png]]
通过重写可以得到NSObject_ImpL 结构体,里面只有一个[[isa指针]],一个指针只有8个字节,这里还有一道常考面试题
![[OC 面向对象相关问题#一个 NSObject 对象占用多少内存]]


## 如果一个实例对象中有属性的话, 属性的值会包含在实例对象里
属性在内存中会按声明的顺序排列在 isa 指针之后. 即 isa 指针的地址最小, 后面的变量地址依次变大
![[img_oc_benzhi.png]]
这个知识点也有一道相关的面试题: 
![[runtime和OC本质和栈知识结合的面试题]]
