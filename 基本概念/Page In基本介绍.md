#optimize 

启动的路径上会触发很多次 Page In，其实也比较容易理解，因为启动的会读写二进制中的很多内容。 **Page In 会占去启动耗时的很大一部分** ，我们来看看单个 Page In 的过程：

![[248ab066896543f7be1c9c9601833526~tplv-k3u1fbpfcp-zoom-1.image.png]]

* MMU 找到空闲的物理内存页面
* 触发磁盘 IO，把数据读入物理内存
* 如果是 TEXT 段的页，要进行解密
* 对解密后的页，进行签名验证

其中 **解密是大头，IO 其次。**

为什么要解密呢？因为 iTunes Connect 会对上传 Mach-O 的 TEXT 段进行加密，防止 IPA 下载下来就直接可以看到代码。这也就是为什么逆向里会有个概念叫做“砸壳”，砸的就是这一层 TEXT 段加密。 **iOS 13 对这个过程进行了优化，Page In 的时候不需要解密了** 。